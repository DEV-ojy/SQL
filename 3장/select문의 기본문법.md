# SELECT 문의 기본문법


select 문은 항상 SELECT절과 FROM절을 같이 기술합니다.<br> 다른 조건이 추가로 필요하면 WHERE절에 기술하고 데이터가 출력되는 순서를 정리하려면 ORDER BY 절을 기술합니다.
```
  SELECT   [DISTINCT] 열 이름 [or 별칭(alias)]
  FROM      테이블 이름 
  [WHERE    조건식]
  [ORDER BY  열 이름 [ASC or DESC]]; 
```  

>1.SELECT과 열이름 FROM 테이블 이름은 필수로 입력해야 하는 항목입니다.
>
>2.SELECT과 FROM은 시스템에서 명령문을 실행하기 위해 미리 정해 놓은 예약어입니다.<br>
>예약어는 시스템이 미리 정해 놓은 것이므로 테이블을 만들 때 이름으로 사용할 수 없습니다.<br>
>SELECT은 예약어이면서 열을 선택하기 위한 명령어 입니다 
>
>3.대괄호([ ]) 안에 들어간 항목은 선택 사항이므로 생략할 수 있습니다.
>
>4.문장을 모두 작성했다면 문장이 끝났다는 의미로 세미콜론( ; )을 입력합니다. 세미콜론이 없다면 시스템은 SQL 문이 아직 끝나지 않았다고 판단합니다. 단 SQL문장이 하나뿐이라면
>세미콜론을 입력하지 않아도 SQL문이 실행됩니다.

필수 입력 항목만 입력하고 SQL 문을 실행하면 결과를 확인할 수 있습니다 대괄호 안에 들어 있는 선택 사항을 추가로 작성하면 더 자세한 결과를 얻을 수 있습니다. 
**SELECT 절은 열을 선택하는 역할을 하고,FROM 절은 데이터를 가져올 테이블을 지정하는 역할을 합니다.**

## 1. 자,시작해 봅시다! : SQL문 작성 규칙

SQL문 작성 규칙에 대해 알아보겠습니다. 👍 이 표시된 규칙은 강제는 아니지만 실무에서 지키면 좋은 내용입니다.

```
1.SQL문은 대문자와 소문자를 구별하지 않습니다. 예를 들어 SELECT와 select를 동일하게 인식합니다.

2.SQL문은 한 줄 또는 여러줄로 작성할 수 있습니다.
  -가독성과 편집의 용이성을 위해 내용이 달라지면 줄을 나눕니다. 👍
  -명령어는 여러 줄로 나눌 수 없습니다. 예를 들어 SEL ECT라고 쓸 수 없습니다
3.코드 수준에 따른 들여쓰기는 SQL 문장을 좀 더 읽기 쉽게 합니다. 👍

4.명령어를 대문자로 작성하고 나머지를 소문자로 작성하면 가독성이 좋아집니다. 👍
```

권장 규칙은 SQL 사용자들 사이에서 암묵적으로 지켜지는 규칙일 뿐이므로 편하게 작성하면 됩니다.
다만 표준 관리와 가독성 면에서는 가능하면 규칙을 준수하는 것이 좋습니다.

__작성 예시__

```
  SELECT *   
  FROM     employees A,
    (
       SELECT *
       FROM departments
       WHERE department_id = 20
    ) B
 WHERE  A.department_id = B.department_id;
``` 
SQL 문 작성 규칙이 모두 적용되어 있습니다 이러한 형태로 SQL 문을 작성한다고 생각하면 됩니다.
이 SQL문은 작성 규칙을 보여 주기 위한 예이므로 가볍게 보고 넘어갑니다. 


## 전체 데이터 조회하기

>기본 SQL문법을 바탕으로 기본 형태의 SELECT 문을 이용해 데이터를 조회해 보겠습니다 여기서 기억할 것은 
>**SELECT 명령어는 데이터를 '선택(=조회)한다'는 의미**이며, 선택된데이터를 화면에 출력한다는 것입니다.
>출력만 할 뿐 실제 데이터의 값의 데이터베이스에 반영(삽입,갱신,삭제)되지는 않습니다
>
>데이터 값을 실제로 조작하여 반영하는 명령어는 8장에서 다루는 DML입니다 그래서 우리는 데이터가 변경될까 봐 두려워하지 않고 자유롭게
>SELECT문을 실행해볼수있습니다 또한 문장과 문법을 이야기 할때는 SQL 문을 쓰고 나머지는 모두 SELECT문처럼 해당 명령어로 표현하겠습니다

#### SELECT ~ FROM

ex: employess 테이블의 모든 정보를 출력하세요)
```
SELECT * 
FROM employees;
 ``` 

위의 SQL문을 다음처럼 정리할 수 있습니다

* SELECT 명령어 다음에 별표( * ) 를 입력해서 모든 열을 조회합니다.<br>
  __*은 '모든 열'이라는 의미__

* FROM은 '~ 테이블로부터'라는 의미이므로 바로 뒤에 테이블 이름을 기술합니다.<br>따라서 위 SQL 문은 'employees 테이블로부터 모든 열을 조회하라'라는 의미입니다.

* 명령어는 대문자로 작성하고 나머지는 소문자로 작성했습니다

* 가독성을 위해 SELECT 절 다음에 ENTER를 입력해서 FROM 절과 구분하였습니다.

## 원하는 열만 조회하고 정렬하기

항상 전체 데이터를 조회하지는 않겠죠? SQL문을 사용해 특정 열만 조회할 수도 있습니다

SELECT 문을 이용해 employee_id와 first_name과 last_name을 선택하여 직원들의 사원번호와 이름만 출력해보겠습니다

ex: employees 테이블에서 employee_id와 first_name과 last_name을 출력하세요)
```
SELECT employee_id, first_name, last_name 
FROM employees;
```
>SELECT 명령문 뒤에 나열한 열 이름 순서대로 결과가 조회된 것을 확인할 수 있습니다. 열 이름은 쉼표( , )를 붙여 계속해서 나열할 수 있으며 결과는 나열한 순서대로 출력됩니다.
>모든 열을 조회하는 * 대신 열 이름을 모두 나열해도 같은 결과가 출력됩니다

#### ORDER BY
출력 결과를 반대로 정렬하려면 어떻게 해야 할까요?

ORDER BY 명령문을 사용하면 행에 대해 정렬 순서를 지정할 수 있습니다

ex: employees 테이블에서 employee_id와 first_name과 last_name을 출력하고 employees_id를 기준으로 내림차순 정렬하세요
```
SELECT employee_id, first_name, last_name 
FROM employees
ORDER BY employee_id DESC;
```
DESC - 내림차순 ASC - 오름차순 (기본 정렬 방법이므로 입력하지 않아도 오름차순으로 정렬도미)

## 중복된 출력 값 제거하기

SQL연상니나 보고서를 작성할 때 데이터 값의 행이 중복되었다면 중복된 데이터를 제거하고 출력해야합니다 이럴 때 사용하는 것이 **DISTINCT** 명령어입니다.

#### DISTINCT
>DISTINCT 명령어는 중복된 행을 제거한 후 출력합니다.
>중복된 행을 제거하고 싶은 열 앞에 DISTINCT 명령어를 기술합니다.

ex: employees 테이블에서 중복값이 생기지 않도록 job_id를 출력하세요)
```
SELECT DISTINCT job_id
FROM employees;
```

**DISTINCT 명령어 뒤에 열 이름을 계속 나열하면 나열한 순서대로 DISTINCT가 모두 적용되므로 유의합니다**

## SQL문을 효율적으로 작성하기 위해 별칭 사용하기

SELECT 문의 결과를 출력할 때 일반적으로 열 이름은 테이블을 정의할 때 명명한 열의 제목(열이름)을 출력합니다.
원래 명명된 열 이름 외에 열 이름으로 임의로 바꿔 쓰고자 할 때 사용하는 것이 별칭(alias)입니다.

#### AS
열 이름을 변경하려면 AS 접속사를 사용합니다. 단, SELECT문에 기술할 때는 AS 접속사를 생략하고 바로 별칭을 기술할 수도 있습니다.
실제로 SQL 문이 익숙해지면 AS 접소사를 종종 생략하곤 합니다. 다만 가독성이 필요한 SQL문에서는 AS 접속사를 사용하길 권장합니다.

>SELECT 열 이름 AS 별칭

* 별칭은 열 이름을 임시로 변경하는데 사용합니다. 원래의 열 이름이 물리적으로 영원히 변경되는것은 아닙니다
* 별칭은 열 이름 바로 뒤에 사용하며, 열 이름과 별칭 사이에는 AS 접속사를 넣습니다.
* AS 접속사는 생략할 수 있습니다.
* 별칭에 공백, 특수문자, 대소문자 등을 사용하려면 "Emp Id"처럼 큰따옴표(")로 묶어서 사용합니다

ex: employees 테이블에서 employee_id는 '사원번호', first_name은 '이름', last_name은'성'으로 출력하세요)
```
SELECT employee_id AS 사원번호, first_name AS 이름, last_name AS 성
FROM employees;
```

## 데이터 값 연산하기
각 열에 따로 담겨 있는 데이터 값을 하나로 붙이거나 추가 수식을 붙여 출력하는 경우가 있습니다 이때 사용하는 것이 연결 연산자인 ||입니다

#### 연결 연산자 | |
연결 연산자인 ||를 사용하면 각 열의 결과를 연결해 하나의 열로 결과를 표현할 수 있고, 문자열을 추가해 새로운 데이터를 표현하는 열을 만들 수도 있습니다

```
[열 이름] || [열 이름] or [열 이름] || '[문자]'
```

ex1: employees 테이블에서 employee_id를 출력하고, first_name과last_name을 붙여서 출력하세요)
```
SELECT employee_id, first_name || last_name
FROM employees;
```

ex2: employees 테이블에서 employee_id를 출력하고, first_name과 last_name을 붙여서 출력하되 <br>
가운데 한 칸을 띄워 주세요 다음 열에는 emailm을 출력하되 @company.com문구를 붙여서 출력하세요

```
SELECT employee_id, 
       first_name ||' ' || last_name,
       email ||'@'||'company.com'
FROM employees;
```

연결 연산자와 함께 first_name 와 last_name 사이에 작은 따옴표를 사용해서 한 칸 띄웠습니다. email 열에는 @company.com이라는 데이터 값을 추가했습니다.
작은따옴표 사이에 들어가는 값을 문자열이라고 하는데, 연결 연산자와 함께 작은따옴표 사이에 숫자,문자,특수문자를 넣어서 데이터를 다양하게 표현할 수 있습니다
이런 작업을 통해 데이터를 한결 보기 좋게 만들 수 있습니다


## 산술 처리하기 : 데이터 값끼리 계산
데이터를 사전에 가공하거나 리포트를 작성할 목적으로 데이터 값끼리 계산하려면 산술 연산자를 사용해야 합니다

#### 산술 연산자
산술 연산자는 데이터 값을 계산하고자 할 때 사용합니다 산술 표현식에느 열 이름,숫자,날짜, 산술 연산자 등을 포함할 수 있으며
산술 연산자에는 + ,- ,* ,/  가 있습니다 SELECT문에스는 FROM 절을 제외한 모든 절에서 산술 연산자를 사용할수있습니다
수학의 일반적인 계산과 마찬가지로 연산의 우선순위는 (), * ,/ ,+ ,-순 입니다

ex: employees 테이블에서 employee_id, salary, salary에 500을 더한 값,100을 뺀 값 10%를 추가해서 2로 나눈 값을 출력하세요
```
SELECT employed_id, salary, salary+500, salary-100, (salary*1.1)/2
FROM employees;
```

>이 예제는 employees테이블에 있는 employee_id의 각 salary 데이터 값에 대해 더하기,빼기,곱하기,나누기를 한 것입니다
>마지막 열에 들어갈 곱하기와 나누기 구문은 소괄호(( ))를 이용하여 연산의 우선순위를 지정했습니다 즉 1.1을 곱한 후 2로 나눴습니다

**앞에서 배운 별칭을 적용하여 다음과 같이 응용할수있습니다**

ex: employees에서 employee_id를 '사원번호', salary를 '급여', salary+500를 '추가급여',salary-100를 '인하급여' (salary*1.1)/2를 '조정급여'
```
SELECT employed_id AS 사원번호,
       salary AS 급여,
       salary+500 AS 추가급여,
       salary-100 AS 인하급여,
       (salary*1.1)/2 AS 조정급여
FROM employees;
```
