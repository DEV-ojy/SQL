## 단일 행 함수:데이터 값을 하나씩 계산하고 조작하기

오라클 데이터베이스는 다양한 데이터 타입을 지원합니다 테이블의 열은 한 가지 데이터 타입으로 지정되어 있으며 지정된 데이터 타입과 일치하는 데이터 값만 저장할 수 있습니다
그중 가장 많이 쓰이는 데이터 타입은 다음과 같습니다.

|저장 데이터| 데이터 타입 | 설멍|
|:---:|:----:|:--------:|
|문자|CHAR(n)|n 크기 만큼 고정 길이의 문자 타입을 저장한다 최대 2,000바이트까지 저장할수있다|
|문자|VARCHAR2(n)|n 크기만큼 가변 길이의 문자타입을 저장한다 최대 4,000바이트까지 저장할수 있다|
|숫자|NUMBER(p,s)|숫자 타입을 저장한다(p:정수 자릿수,s:소수 자릿수)|
|날짜|DATE|날짜 타입을 저장한다 9999년12월31일까지 저장할수있다|

이외에도 BLOB나 BFILE등 다양한 데이터 타입이 있지만 일반 사용자가 데이터를 조작하면서 쓸 일은 많지 않습니다

**단일 행 함수란 테이블에 존재하는 많은 행이 한 번에 하나씩 함수에 입력되어 하나씩 처리되는 함수입니다**
첫번째 행을 받아 처리하고 완료되면 두번째 행을 받아 처리합니다 단일 행 함수는 데이터 타입에 따라 문자,숫자,날짜 타입 등이 있으며
데이터 타입에 알맞은 함수를 선택해서 사용해야 합니다 

단일 행 함수의 종류는 다음과 같습니다

|종류|섦여|
|:---:|:---:|
|문자 타입 함수|문자를 입력받아 문자와 숫자를 빈환한다|
|숫자 타입 함수|숫자를 입력받아 숫자를 반환한다|
|날짜 타입 함수|날짜에 대해 연산한다 숫자를 반환하는 MONTHS_BETWEEN 함수를 제외한 모든 날짜 타입 함수는 날짜 값을 반환한다|
|변환 타입 함수|임의의 데이터 타입의 값을 다른 데이터 타입으로 변환한다|
|일반 함수|그 외 NVL,DECODE,CASE WHEN,순위 함수등|
  
단일 행 함수의 특지은 다음과같습니다
* 각 행에 대해 수행합니다
* 데이터 타입에 맞는 함수를 사용해야 합니다
* 행별로 하나의 결과를 반환합니다
* SELECT,WHERE,ORDER BY 절 등에서 사용할 수 있습니다
* 함수 속의 함수처럼 중첩해서 사용할 수 있습니다
* 중첩해서 사용할 경우 가장 안쪽(하위)단계에서 바깥쪽(상위) 단계순으로 진행합니다.


#### 문자 타입 함수 

문자타입함수는 주로 데이터 조작에 쓰이며 종류는 다음과 같습니다 문자나 문자열 데이터는 작은 따옴표(' ')로 묶어서 문자 타입으로 표현합니다

|함수|설명|예|결과|
|:--:|:--:|:--:|:--:|
|LOWER|값을 소문자로 변환한다|LOWER('ABCD')|abcd|
|UPPER|값을 대문자로 변환한다|UPPER('abcd')|ABCD|
|INICAP|첫 번째 글자만 대문자로 변환한다|INITCAP('abcd')|Abcd|
|SUBSTR|문자열 중 일부분을 선택한다|SUBSTR('ABC',1,2)|AB|
|REPLACE|특정 문자열을 찾아 바꾼다 예를 들어 A를 찾아 E로 바꾼다|REPLACE('AB','A','E'|EB|
|CONCAT|두 문자열을 연결한다|CONCAT('A','B')|AB|
|LENGTH|문자열의 길이를 구한다|LENGTH('AB')|2|
|INSTR|명명된 문자의 위치를 구한다|INSTR('ABCD','D')|4|
|LPAD|왼쪽부터 특정 문자로 자리를 채운다|LPAD('ABCD',6,'^')|^^ABCD|
|RPAD|오른쪽부터 특정 문자로 자리를 채운다|RPAD('ABCD,6,'^')|ABCD^^|
|LTRIM|주어진 문자열의 왼쪽 문자를 지운다|LTRIM('ABCD','AB')|CD|
|RTRIM|주어진 문자열의 오른쪽 문자를 지운다|RTRIM('ABCD','CD')|AB|
|TRIM|공백을 제거(단,문자열 중간에 있는 공백은 불가)|TRIM(' - space -')|-space-|

**문자 타입 함수들을 위 표를 보면 이해가 쉽게 되기때문에 설명을 딱히 하지 않겠습니다**


#### 숫자 타입 함수

숫자 타입 함수는 주로 숫자를 계산하거나 계산이 끝난 후에 추가로 가공 처리를 할 때 사용합니다 
SQL은 다양한 숫자 타입 함수를 제공하는데 그 중 가장 많이 쓰이는 ROUND와 TRUNC함수를 알아보겠습니다

|함수|설명|예|결과|
|:----:|:----:|:----:|:----:|
|ROUND|숫자를 반올립한다 0이 소수점 첫째 자리|ROUND(15,351,0)|15|
|TRUNC|숫자를 절삭한다 0이 소수점 첫째 자리|TRUNC(15,351,1)|15.3|
|NOD|나누기 후 나머지를 구함|||
|CEIL|숫자를 정수로 올림|||
|FLOOR|숫자를 정수로 내림|||
|SIGN|양수(1),음수(-1),0인지를 구분하여 출력한다|||
|POWER|거듭제곱을 출력한다|||
|SQRT|제곱근을 출력한다|||
